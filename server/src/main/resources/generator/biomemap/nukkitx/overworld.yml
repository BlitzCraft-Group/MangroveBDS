# NukkitX Standard Generator - Overworld biome map
#
# Author: DaPorkchop_

#id: "nukkitx:constant"
#biome: "minecraft:extreme_hills_plus_trees"

id: "nukkitx:complex"
fallback: "ocean"
root:
  # Replaces biomes based on the climate in the area.
  # A LOT of duplication is needed here to simulate weighted randomness.
  # Functionally equivalent to Java's "GenLayerBiome" combined with the SPECIAL pass of "GenLayerEdge"
  # Result: https://i.daporkchop.net/BsHqrXwW.png
  id: "nukkitx:substitute_random"
  biomes:
    minecraft:desert: # hot biomes
      # todo: mesa (will be messy lol)
      - "minecraft:desert"
      - "minecraft:desert"
      - "minecraft:desert"
      - "minecraft:savanna"
      - "minecraft:savanna"
      - "minecraft:plains"
    minecraft:birch_forest: # warm biomes
      # 1:12 ratio of jungle to everything else
      # 6x jungle (because there are 6 other biomes in this category)
      - "minecraft:jungle"
      - "minecraft:jungle"
      - "minecraft:jungle"
      - "minecraft:jungle"
      - "minecraft:jungle"
      - "minecraft:jungle"

      # 12x forest
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"

      # 12x roofed forest
      - "minecraft:roofed_forest"
      - "minecraft:roofed_forest"
      - "minecraft:roofed_forest"
      - "minecraft:roofed_forest"
      - "minecraft:roofed_forest"
      - "minecraft:roofed_forest"
      - "minecraft:roofed_forest"
      - "minecraft:roofed_forest"
      - "minecraft:roofed_forest"
      - "minecraft:roofed_forest"
      - "minecraft:roofed_forest"
      - "minecraft:roofed_forest"

      # 12x extreme hills
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"

      # 12x plains
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"

      # 12x birch forest
      - "minecraft:birch_forest"
      - "minecraft:birch_forest"
      - "minecraft:birch_forest"
      - "minecraft:birch_forest"
      - "minecraft:birch_forest"
      - "minecraft:birch_forest"
      - "minecraft:birch_forest"
      - "minecraft:birch_forest"
      - "minecraft:birch_forest"
      - "minecraft:birch_forest"
      - "minecraft:birch_forest"
      - "minecraft:birch_forest"

      # 12x swampland
      - "minecraft:swampland"
      - "minecraft:swampland"
      - "minecraft:swampland"
      - "minecraft:swampland"
      - "minecraft:swampland"
      - "minecraft:swampland"
      - "minecraft:swampland"
      - "minecraft:swampland"
      - "minecraft:swampland"
      - "minecraft:swampland"
      - "minecraft:swampland"
      - "minecraft:swampland"
    minecraft:extreme_hills: # cool biomes
      # 1:12 ratio of mega taiga to everything else
      # 4x mega taiga (because there are 4 other biomes in this category)
      - "minecraft:mega_taiga"
      - "minecraft:mega_taiga"
      - "minecraft:mega_taiga"
      - "minecraft:mega_taiga"

      # 12x forest
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"
      - "minecraft:forest"

      # 12x extreme hills
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"
      - "minecraft:extreme_hills"

      # 12x taiga
      - "minecraft:taiga"
      - "minecraft:taiga"
      - "minecraft:taiga"
      - "minecraft:taiga"
      - "minecraft:taiga"
      - "minecraft:taiga"
      - "minecraft:taiga"
      - "minecraft:taiga"
      - "minecraft:taiga"
      - "minecraft:taiga"
      - "minecraft:taiga"
      - "minecraft:taiga"

      # 12x plains
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
      - "minecraft:plains"
    minecraft:cold_taiga: # icy biomes
      - "minecraft:ice_plains"
      - "minecraft:ice_plains"
      - "minecraft:ice_plains"
      - "minecraft:cold_taiga"
  next:
    #todo: this is where vanilla river generation branches
    # Replace ocean biomes which only neighbor more ocean with deep ocean
    # Functionally equivalent to Java's "GenLayerDeepOcean"
    # Result: https://i.daporkchop.net/HKEdiTdy.png
    id: "nukkitx:replace_threshold"
    threshold: 4
    target: "minecraft:ocean"
    replacement: "minecraft:deep_ocean"
    next:
      # Generate mushroom islands.
      # Functionally equivalent to Java's "GenLayerAddMushroomIsland"
      # Result: https://i.daporkchop.net/Faf4RZPp.png
      id: "nukkitx:replace_swath"
      chance: 100
      target: "minecraft:ocean"
      replacement: "minecraft:mushroom_island"
      next:
        # More island bleeding.
        # Result: https://i.daporkchop.net/F5FuduSJ.png
        id: "nukkitx:bleed_island"
        ocean: "minecraft:ocean"
        preserve: "minecraft:cold_taiga"
        island: "minecraft:desert"
        next:
          # Zoom in some more
          # Result: https://i.daporkchop.net/4JJoUTQj.png
          id: "nukkitx:zoom"
          times: 2
          next:
            # Smooth temperature borders out
            # Result: https://i.daporkchop.net/7Ez48CS4.png
            id: "nukkitx:climate"
            icy: "minecraft:cold_taiga"
            cool: "minecraft:extreme_hills"
            warm: "minecraft:birch_forest"
            hot: "minecraft:desert"
            ocean: "minecraft:ocean"
            next:
              # Bleed islands. AGAIN.
              # Result: https://i.daporkchop.net/2r9kdKwe.png
              id: "nukkitx:bleed_island"
              ocean: "minecraft:ocean"
              preserve: "minecraft:cold_taiga" # preserve biome is temperature 4: icy (cold taiga)
              island: "minecraft:desert" # i think this is correct?
              next:
                # Replaces 1/6 of the plains biomes with forests, and another 1/6 with extreme hills, the rest with desert.
                # Functionally equivalent to Java's "GenLayerAddSnow"
                # Result: https://i.daporkchop.net/4QuzFMQZ.png
                id: "nukkitx:substitute_random"
                biomes:
                  minecraft:plains: # Again, this is to simulate weighted randomness
                    - "minecraft:cold_taiga" # temperature 4: icy
                    - "minecraft:extreme_hills" # temperature 3: cool
                    - "minecraft:desert" # temperature 1: hot
                    - "minecraft:desert"
                    - "minecraft:desert"
                    - "minecraft:desert"
                next:
                  # Replaces large swaths of ocean biomes with land
                  # Result: https://i.daporkchop.net/8vK1WEke.png
                  id: "nukkitx:replace_swath"
                  chance: 2
                  target: "minecraft:ocean"
                  replacement: "minecraft:plains"
                  next:
                    # Result: https://i.daporkchop.net/Bn6Ks75w.png
                    id: "nukkitx:bleed_island"
                    ocean: "minecraft:ocean"
                    preserve: "minecraft:forest"
                    island: "minecraft:plains"
                    next:
                      # Result: https://i.daporkchop.net/zRG3o1AC.png
                      id: "nukkitx:bleed_island"
                      ocean: "minecraft:ocean"
                      preserve: "minecraft:forest"
                      island: "minecraft:plains"
                      next:
                        # 3 more island bleeding passes
                        # Result: https://i.daporkchop.net/Gh1DTLfJ.png
                        id: "nukkitx:bleed_island"
                        ocean: "minecraft:ocean"
                        preserve: "minecraft:forest"
                        island: "minecraft:plains"
                        next:
                          # Zoom again, but not fuzzy.
                          # Result: https://i.daporkchop.net/Fmpi8dge.png
                          id: "nukkitx:zoom"
                          next:
                            # Bleeds islands into each other
                            # Result: https://i.daporkchop.net/GYBUJasX.png
                            id: "nukkitx:bleed_island"
                            ocean: "minecraft:ocean"
                            preserve: "minecraft:forest" # dummy value because this is a required parameter
                            island: "minecraft:plains"
                            next:
                              # Single fuzzy zoom pass.
                              # Result: https://i.daporkchop.net/AMJZJfwm.png
                              id: "nukkitx:zoom"
                              fuzzy: true
                              next:
                                # Start off with an ocean world with randomly scattered plains.
                                # Functionally equivalent to Java's "GenLayerIsland"
                                # Result: https://i.daporkchop.net/GUVSGAKC.png
                                id: "nukkitx:random"
                                biomes:
                                  - "minecraft:ocean" # 9:1 ratio
                                  - "minecraft:ocean"
                                  - "minecraft:ocean"
                                  - "minecraft:ocean"
                                  - "minecraft:ocean"
                                  - "minecraft:ocean"
                                  - "minecraft:ocean"
                                  - "minecraft:ocean"
                                  - "minecraft:ocean"
                                  - "minecraft:plains"

#id: "nukkitx:complex"
#fallback: "ocean"
#root:
#  id: "nukkitx:zoom"
#  times: 2
#  next:
#    id: "nukkitx:smooth"
#    next:
#      id: "nukkitx:zoom"
#      times: 1
#      next:
#        id: "nukkitx:shore"
#        ocean: "ocean"
#        beach: "beach"
#        next:
#          id: "nukkitx:zoom"
#          times: 1
#          next:
#            id: "nukkitx:zoom"
#            times: 1
#            fuzzy: true
#            next:
#              id: "nukkitx:island"
#              ocean: "ocean"
#              islandBiomes:
#                - "plains"
#              chance: 32
#              next:
#                id: "nukkitx:zoom"
#                times: 1
#                next:
#                  id: "nukkitx:substitute_random"
#                  biomes:
#                    plains:
#                      - "plains"
#                      - "sunflower_plains"
#                      - "extreme_hills"
#                      - "forest"
#                  next:
#                    id: "nukkitx:zoom"
#                    times: 3
#                    fuzzy: true
#                    next:
#                      id: "nukkitx:random"
#                      biomes:
#                        - "plains"
#                        - "plains"
#                        - "ocean"
